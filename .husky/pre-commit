#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# 运行lint-staged进行代码格式化和基础检查
npx lint-staged

# 运行ESLint检查
npm run lint

# 运行TypeScript严格类型检查
echo "🔍 Running strict TypeScript check..."
npx tsc --noEmit --strict

# 检查依赖完整性
echo "📦 Checking dependency integrity..."
node scripts/check-dependencies.js

echo "✅ Pre-commit checks completed successfully!"